import{X as N,Y,O as f,o as n,d as c,f as g,m as O,C as r,n as h,v as P,t as v,u as d,F as y,G as w,Z as R,A as b,$ as W,U as T,S as z,x as B,_ as A,L as Z,g as x,w as k,H as Q,J as ee,a0 as E,a1 as te,r as F,T as L,a2 as se,a3 as oe,W as j,a4 as re,M as le,a5 as ie}from"./vendor.ae1af255.js";import{_ as M}from"./index.de2b8369.js";let ae=0;function ne(){return++ae}function ue(){return"frappe-ui-"+ne()}const de=["disabled","id","checked"],ce=["for"],D=N({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:Boolean},id:{}},setup(t){var u;const e=t,s=Y(),i=(u=e.id)!=null?u:ue(),a=f(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[e.size],e.disabled?"text-gray-500":"text-gray-800","select-none"]),o=f(()=>{let p=e.disabled?"border-gray-300 bg-gray-50 text-gray-400":"border-gray-500 text-gray-900 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",m=e.disabled?"":e.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 active:bg-gray-100",$={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[e.size];return[p,m,$]});return(p,m)=>(n(),c("div",{class:h(["inline-flex items-center space-x-2 rounded transition",{"px-2.5 py-1.5":p.padding&&p.size==="sm","px-3 py-2":p.padding&&p.size==="md","focus-within:bg-gray-100 focus-within:ring-2 focus-within:ring-gray-400 hover:bg-gray-200 active:bg-gray-300":p.padding&&!p.disabled}])},[g("input",O({class:["rounded-sm",o.value],type:"checkbox",disabled:p.disabled,id:r(i),checked:Boolean(p.modelValue),onChange:m[0]||(m[0]=$=>p.$emit("update:modelValue",$.target.checked))},r(s)),null,16,de),p.label?(n(),c("label",{key:0,class:h(["block",a.value]),for:r(i)},P(p.label),11,ce)):v("",!0)],2))}});function H(t,e=!0){let s=e?"14px ":"",i=t.map(a=>{let o=a.width||1;return typeof o=="number"?o+"fr":o}).join(" ");return s+i}const V={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},ge={__name:"ListHeaderItem",props:{item:{type:Object,required:!0}},setup(t){return(e,s)=>(n(),c("div",{class:h(["flex items-center space-x-2 text-base text-gray-600",r(V)[t.item.align]])},[d(e.$slots,"prefix",y(w({item:t.item}))),g("div",null,P(t.item.label),1),d(e.$slots,"suffix",y(w({item:t.item})))],2))}},pe={__name:"ListHeader",setup(t){const e=R("list");return(s,i)=>(n(),c("div",{class:"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2",style:B({gridTemplateColumns:r(H)(r(e).columns,r(e).options.selectable)})},[r(e).options.selectable?(n(),b(D,{key:0,class:"cursor-pointer duration-300",modelValue:r(e).allRowsSelected,onClick:W(r(e).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):v("",!0),d(s.$slots,"default",{},()=>[(n(!0),c(T,null,z(r(e).columns,a=>(n(),b(ge,{key:a.key,item:a},null,8,["item"]))),128))])],4))}},he={name:"Popover",inheritAttrs:!1,props:{show:{default:void 0},trigger:{type:String,default:"click"},hoverDelay:{type:Number,default:0},leaveDelay:{type:Number,default:0},placement:{type:String,default:"bottom-start"},popoverClass:[String,Object,Array],transition:{default:null},hideOnBlur:{default:!0}},emits:["open","close","update:show"],expose:["open","close"],data(){return{showPopup:!1,targetWidth:null,pointerOverTargetOrPopup:!1}},watch:{show(t){t?this.open():this.close()}},created(){if(typeof window!="undefined"&&!document.getElementById("frappeui-popper-root")){const t=document.createElement("div");t.id="frappeui-popper-root",document.body.appendChild(t)}},mounted(){this.listener=t=>{[this.$refs.reference,this.$refs.popover].some(i=>i&&(t.target===i||i.contains(t.target)))||this.close()},this.hideOnBlur&&document.addEventListener("click",this.listener),this.$nextTick(()=>{this.targetWidth=this.$refs.target.clientWidth})},beforeDestroy(){this.popper&&this.popper.destroy(),document.removeEventListener("click",this.listener)},computed:{showPropPassed(){return this.show!=null},isOpen:{get(){return this.showPropPassed?this.show:this.showPopup},set(t){t=Boolean(t),this.showPropPassed?this.$emit("update:show",t):this.showPopup=t,t===!1?this.$emit("close"):t===!0&&this.$emit("open")}},popupTransition(){let t={default:{enterActiveClass:"transition duration-150 ease-out",enterFromClass:"translate-y-1 opacity-0",enterToClass:"translate-y-0 opacity-100",leaveActiveClass:"transition duration-150 ease-in",leaveFromClass:"translate-y-0 opacity-100",leaveToClass:"translate-y-1 opacity-0"}};return typeof this.transition=="string"?t[this.transition]:this.transition}},methods:{setupPopper(){this.popper?this.updatePosition():this.popper=Z(this.$refs.reference,this.$refs.popover,{placement:this.placement})},updatePosition(){this.popper&&this.popper.update()},togglePopover(t){t instanceof Event&&(t=null),t==null&&(t=!this.isOpen),t=Boolean(t),t?this.open():this.close()},open(){this.isOpen=!0,this.$nextTick(()=>this.setupPopper())},close(){this.isOpen=!1},onMouseover(){this.pointerOverTargetOrPopup=!0,this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.trigger==="hover"&&(this.hoverDelay?this.hoverTimer=setTimeout(()=>{this.pointerOverTargetOrPopup&&this.open()},Number(this.hoverDelay)*1e3):this.open())},onMouseleave(t){this.pointerOverTargetOrPopup=!1,this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.trigger==="hover"&&(this.leaveTimer&&clearTimeout(this.leaveTimer),this.leaveDelay?this.leaveTimer=setTimeout(()=>{this.pointerOverTargetOrPopup||this.close()},Number(this.leaveDelay)*1e3):this.pointerOverTargetOrPopup||this.close())}}},be={ref:"reference"},fe={class:"rounded-lg border border-gray-100 bg-white shadow-xl"};function me(t,e,s,i,a,o){return n(),c("div",be,[g("div",{ref:"target",class:h(["flex",t.$attrs.class]),onClick:e[0]||(e[0]=(...u)=>o.updatePosition&&o.updatePosition(...u)),onFocusin:e[1]||(e[1]=(...u)=>o.updatePosition&&o.updatePosition(...u)),onKeydown:e[2]||(e[2]=(...u)=>o.updatePosition&&o.updatePosition(...u)),onMouseover:e[3]||(e[3]=(...u)=>o.onMouseover&&o.onMouseover(...u)),onMouseleave:e[4]||(e[4]=(...u)=>o.onMouseleave&&o.onMouseleave(...u))},[d(t.$slots,"target",y(w({togglePopover:o.togglePopover,updatePosition:o.updatePosition,open:o.open,close:o.close,isOpen:o.isOpen})))],34),(n(),b(te,{to:"#frappeui-popper-root"},[g("div",{ref:"popover",class:h([s.popoverClass,"popover-container relative z-[100]"]),style:B({minWidth:a.targetWidth?a.targetWidth+"px":null}),onMouseover:e[5]||(e[5]=u=>a.pointerOverTargetOrPopup=!0),onMouseleave:e[6]||(e[6]=(...u)=>o.onMouseleave&&o.onMouseleave(...u))},[x(E,y(w(o.popupTransition)),{default:k(()=>[Q(g("div",null,[d(t.$slots,"body",y(w({togglePopover:o.togglePopover,updatePosition:o.updatePosition,open:o.open,close:o.close,isOpen:o.isOpen})),()=>[g("div",fe,[d(t.$slots,"body-main",y(w({togglePopover:o.togglePopover,updatePosition:o.updatePosition,open:o.open,close:o.close,isOpen:o.isOpen})))])])],512),[[ee,o.isOpen]])]),_:3},16)],38)]))],512)}var ve=A(he,[["render",me]]);const ye={name:"Tooltip",components:{Popover:ve},props:{hoverDelay:{default:.5},placement:{default:"top"},text:{type:String,default:null}}},we={key:0,class:"rounded bg-gray-900 px-2 py-1 text-xs text-white shadow-xl"},xe={class:"py-px"};function ke(t,e,s,i,a,o){const u=F("Popover");return n(),b(u,{trigger:"hover",hoverDelay:s.hoverDelay,placement:s.placement},{target:k(()=>[d(t.$slots,"default")]),body:k(()=>[d(t.$slots,"body",{},()=>[s.text?(n(),c("div",we,[g("div",xe,P(s.text),1)])):v("",!0)])]),_:3},8,["hoverDelay","placement"])}var Ce=A(ye,[["render",ke]]);const $e={class:"truncate text-base"},Pe={__name:"ListRowItem",props:{item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(t){const e=t,s=f(()=>i(e.item).label||"");function i(o){return o&&typeof o=="object"?o:{label:o}}const a=R("list");return(o,u)=>(n(),b(L(r(a).options.showTooltip?Ce:"div"),O(r(a).options.showTooltip?{text:s.value}:{},{class:["flex items-center space-x-2",r(V)[t.align]]}),{default:k(()=>[d(o.$slots,"prefix"),d(o.$slots,"default",y(w({label:s.value})),()=>[g("div",$e,P(s.value),1)]),d(o.$slots,"suffix")]),_:3},16,["class"]))}},Re={key:0,class:"mx-2 h-px border-t border-gray-200"},Te={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(t){const e=t,s=R("list"),i=f(()=>{var a;return((a=s.value.rows)==null?void 0:a.length)?s.value.rows[s.value.rows.length-1][s.value.rowKey]===e.row[s.value.rowKey]:!1});return(a,o)=>(n(),b(L(r(s).options.getRowRoute?"router-link":"div"),O({class:"flex cursor-pointer flex-col transition-all duration-300 ease-in-out"},r(s).options.getRowRoute?{to:r(s).options.getRowRoute(t.row)}:{onClick:()=>r(s).options.onRowClick(t.row)}),{default:k(()=>[(n(),b(L(r(s).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:k(()=>[g("div",{class:h(["grid items-center space-x-4 rounded px-2 py-2.5",r(s).selections.has(t.row[r(s).rowKey])?"bg-gray-100 hover:bg-gray-200":"hover:bg-gray-50"]),style:B({gridTemplateColumns:r(H)(r(s).columns,r(s).options.selectable)})},[r(s).options.selectable?(n(),b(D,{key:0,modelValue:r(s).selections.has(t.row[r(s).rowKey]),onClick:o[0]||(o[0]=W(u=>r(s).toggleRow(t.row[r(s).rowKey]),["stop"])),class:"cursor-pointer duration-300"},null,8,["modelValue"])):v("",!0),(n(!0),c(T,null,z(r(s).columns,u=>(n(),c("div",{key:u.key,class:h(r(V)[u.align])},[d(a.$slots,"default",y(w({column:u,item:t.row[u.key]})),()=>[x(Pe,{item:t.row[u.key],align:u.align},null,8,["item","align"])])],2))),128))],6),i.value?v("",!0):(n(),c("div",Re))]),_:3}))]),_:3},16))}},_e={class:"h-full overflow-y-auto"},Oe={__name:"ListRows",setup(t){const e=R("list");return(s,i)=>(n(),c("div",_e,[d(s.$slots,"default",{},()=>[(n(!0),c(T,null,z(r(e).rows,a=>(n(),b(Te,{key:a[r(e).rowKey],row:a},null,8,["row"]))),128))])]))}},Se={name:"LoadingIndicator"},ze={class:"max-w-xs animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Be=g("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Ae=g("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Le=[Be,Ae];function je(t,e,s,i,a,o){return n(),c("svg",ze,Le)}var Me=A(Se,[["render",je]]);const De=["disabled","ariaLabel"],q=N({__name:"Button",props:{theme:{default:"gray"},size:{default:"sm"},variant:{default:"subtle"},label:{},icon:{},iconLeft:{},iconRight:{},loading:{type:Boolean,default:!1},loadingText:{},disabled:{type:Boolean,default:!1},route:{},link:{}},setup(t){const e=t,s=se(),i=oe(),a=f(()=>{let l={gray:"text-white bg-gray-900 hover:bg-gray-800 active:bg-gray-700",blue:"text-white bg-blue-500 hover:bg-blue-600 active:bg-blue-700",green:"text-white bg-green-600 hover:bg-green-700 active:bg-green-800",red:"text-white bg-red-600 hover:bg-red-700 active:bg-red-800"}[e.theme],C={gray:"text-gray-800 bg-gray-100 hover:bg-gray-200 active:bg-gray-300",blue:"text-blue-600 bg-blue-100 hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-green-100 hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-red-100 hover:bg-red-200 active:bg-red-300"}[e.theme],_={gray:"text-gray-800 bg-white border border-gray-300 hover:border-gray-400 active:border-gray-400 active:bg-gray-300",blue:"text-blue-600 bg-white border border-blue-300 hover:border-blue-400 active:border-blue-400 active:bg-blue-300",green:"text-green-800 bg-white border border-green-400 hover:border-green-500 active:border-green-500 active:bg-green-300",red:"text-red-700 bg-white border border-red-300 hover:border-red-400 active:border-red-400 active:bg-red-200"}[e.theme],S={gray:"text-gray-800 bg-transparent hover:bg-gray-200 active:bg-gray-300",blue:"text-blue-600 bg-transparent hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-transparent hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-transparent hover:bg-red-200 active:bg-red-300"}[e.theme],G={gray:"focus-visible:ring focus-visible:ring-gray-400",blue:"focus-visible:ring focus-visible:ring-blue-400",green:"focus-visible:ring focus-visible:ring-green-400",red:"focus-visible:ring focus-visible:ring-red-400"}[e.theme],U={subtle:C,solid:l,outline:_,ghost:S}[e.variant],J=`${e.theme}-${e.variant}`,K={gray:"bg-gray-100 text-gray-500","gray-outline":"bg-gray-100 text-gray-500 border border-gray-300","gray-ghost":"text-gray-500","blue-solid":"bg-blue-300 text-white","blue-subtle":"bg-blue-100 text-blue-400","blue-outline":"bg-blue-100 text-blue-400 border border-blue-300","blue-ghost":"text-blue-400",green:"bg-green-100 text-green-500","green-outline":"bg-green-100 text-green-500 border border-green-400","green-ghost":"text-green-500",red:"bg-red-100 text-red-400","red-outline":"bg-red-100 text-red-400 border border-red-300","red-ghost":"text-red-400"},X=K[J]||K[e.theme],I={sm:"h-7 text-base px-2 rounded",md:"h-8 text-base font-medium px-2.5 rounded",lg:"h-10 text-lg font-medium px-3 rounded-md",xl:"h-11.5 text-xl font-medium px-3.5 rounded-lg","2xl":"h-13 text-2xl font-medium px-3.5 rounded-xl"}[e.size];return m.value&&(I={sm:"h-7 w-7 rounded",md:"h-8 w-8 rounded",lg:"h-10 w-10 rounded-md",xl:"h-11.5 w-11.5 rounded-lg","2xl":"h-13 w-13 rounded-xl"}[e.size]),["inline-flex items-center justify-center gap-2 transition-colors focus:outline-none",u.value?X:U,G,I]}),o=f(()=>({sm:"h-4",md:"h-4.5",lg:"h-5",xl:"h-6","2xl":"h-6"})[e.size]),u=f(()=>e.disabled||e.loading),p=f(()=>m.value?e.label:null),m=f(()=>e.icon||s.icon),$=()=>{if(e.route)return i.push(e.route);if(e.link)return window.open(e.link,"_blank")};return(l,C)=>(n(),c("button",O(l.$attrs,{class:a.value,onClick:$,disabled:u.value,ariaLabel:p.value}),[l.loading?(n(),b(Me,{key:0,class:h({"h-3 w-3":l.size=="sm","h-[13.5px] w-[13.5px]":l.size=="md","h-[15px] w-[15px]":l.size=="lg","h-4.5 w-4.5":l.size=="xl"||l.size=="2xl"})},null,8,["class"])):l.$slots.prefix||l.iconLeft?d(l.$slots,"prefix",{key:1},()=>[l.iconLeft?(n(),b(M,{key:0,name:l.iconLeft,class:h(o.value),"aria-hidden":"true"},null,8,["name","class"])):v("",!0)]):v("",!0),l.loading&&l.loadingText?(n(),c(T,{key:2},[j(P(l.loadingText),1)],64)):m.value&&!l.loading?(n(),c(T,{key:3},[l.icon?(n(),b(M,{key:0,name:l.icon,class:h(o.value),"aria-label":l.label},null,8,["name","class","aria-label"])):l.$slots.icon?d(l.$slots,"icon",{key:1}):v("",!0)],64)):(n(),c("span",{key:4,class:h({"sr-only":m.value})},[d(l.$slots,"default",{},()=>[j(P(l.label),1)])],2)),d(l.$slots,"suffix",{},()=>[l.iconRight?(n(),b(M,{key:0,name:l.iconRight,class:h(o.value),"aria-hidden":"true"},null,8,["name","class"])):v("",!0)])],16,De))}}),Ve={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},Ke={class:"flex flex-1 justify-between border-r border-gray-300 text-gray-900"},Ie={class:"flex items-center space-x-3"},Ne={class:"mr-3"},We={class:"flex items-center space-x-1"},Ee={__name:"ListSelectBanner",setup(t){const e=R("list");let s=f(()=>{let i=e.value.selections.size===1?"Row":"Rows";return`${e.value.selections.size} ${i} selected`});return(i,a)=>(n(),b(E,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:k(()=>[r(e).selections.size?(n(),c("div",Ve,[g("div",{class:h(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-white px-4 py-2 shadow-2xl",i.$attrs.class])},[d(i.$slots,"default",y(w({selections:r(e).selections,allRowsSelected:r(e).allRowsSelected,selectAll:()=>r(e).toggleAllRows(!0),unselectAll:()=>r(e).toggleAllRows(!1)})),()=>[g("div",Ke,[g("div",Ie,[x(D,{modelValue:!0,disabled:!0,class:"text-gray-900"}),g("div",null,P(r(s)),1)]),g("div",Ne,[d(i.$slots,"actions",y(w({selections:r(e).selections,allRowsSelected:r(e).allRowsSelected,selectAll:()=>r(e).toggleAllRows(!0),unselectAll:()=>r(e).toggleAllRows(!1)})))])]),g("div",We,[x(q,{class:h(["w- text-gray-700",r(e).allRowsSelected?"cursor-not-allowed":""]),disabled:r(e).allRowsSelected,variant:"ghost",onClick:a[0]||(a[0]=o=>r(e).toggleAllRows(!0))},{default:k(()=>[j(" Select all ")]),_:1},8,["disabled","class"]),x(q,{icon:"x",variant:"ghost",onClick:a[1]||(a[1]=o=>r(e).toggleAllRows(!1))})])])],2)])):v("",!0)]),_:3}))}},Fe={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},He={class:"flex gap-2"},Ue={__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:{getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0}}},emits:["update:selections","deleteSelection"],setup(t,{emit:e}){const s=t;let i=re(new Set);const a=e;le(i,l=>{a("update:selections",l)});let o=f(()=>{function l(C){return C===void 0?!0:C}return{getRowRoute:s.options.getRowRoute||null,onRowClick:s.options.onRowClick||null,showTooltip:l(s.options.showTooltip),selectable:l(s.options.selectable)}});const u=f(()=>s.rows.length?i.size===s.rows.length:!1);function p(){a("deleteSelection",i)}function m(l){i.delete(l)||i.add(l)}function $(l){if(!l||u.value){i.clear();return}s.rows.forEach(C=>i.add(C[s.rowKey]))}return ie("list",f(()=>({rowKey:s.rowKey,rows:s.rows,columns:s.columns,options:o.value,selections:i,allRowsSelected:u.value,toggleRow:m,toggleAllRows:$}))),(l,C)=>{const _=F("Button");return n(),c("div",Fe,[g("div",{class:h(["flex w-max min-w-full flex-col overflow-y-hidden",l.$attrs.class])},[d(l.$slots,"default",{},()=>[x(pe),x(Oe),x(Ee,null,{actions:k(({unselectAll:S})=>[g("div",He,[x(_,{variant:"ghost",onClick:p,label:"Delete"}),x(_,{variant:"ghost",label:"Unselect all",onClick:S},null,8,["onClick"])])]),_:1})])],2)])}}};export{ve as P,q as _,Ue as a,D as b,ue as u};
